from setuptools import find_packages, setup
from setuptools.dist import Distribution

class BinaryDistribution(Distribution):
  def is_pure(self):
    return False
  def has_ext_modules(self):
    return True

from setuptools.command.install import install
class InstallPlatlib(install):
    def finalize_options(self):
        install.finalize_options(self)
        self.install_lib=self.install_platlib

with open("README.md", "r") as f:
    long_description = f.read()


setup(
    name="@DOCCREATOR_PYTHON_NAME@",
    version="@DOCCREATOR_PYTHON_VERSION@",
    author="Boris Mansencal",
    author_email="boris.mansencal@labri.fr",
    description="DocCreator python package",
    long_description=long_description,
    long_description_content_type="text/markdown",
    url="https://github.com/DocCreator/DocCreator",
    packages=find_packages(),
    distclass=BinaryDistribution,
    cmdclass={'install': InstallPlatlib},
    package_data={
        '@DOCCREATOR_PYTHON_NAME@':['_Degradations.so', 'libOSMesa.so.8'],
    },
    include_package_data=True,
    classifiers=[
        "Intended Audience :: Developers",
        "Intended Audience :: Science/Research",
        "License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)",
        "Operating System :: POSIX :: Linux",
        "Operating System :: MacOS :: MacOS X",
        "Programming Language :: Python :: 3",
        "Programming Language :: Python :: 3.5",
        "Programming Language :: Python :: 3.6",
        "Programming Language :: Python :: 3.7",
        "Programming Language :: Python :: 3.8",
    ],
    python_requires='>=3.5',
)
    
